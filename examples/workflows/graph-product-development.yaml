# Graph-based Product Development Workflow
name: "graph-product-development"
description: "Complex product development workflow with market research, parallel development tracks, and conditional releases"
pattern: "graph" 
version: "1.0"
author: "AgentMesh Team"

# Agent configuration
agents:
  - name: "market_researcher"
    id: "research-001"
    type: "assistant"
    config:
      model: "gpt-3.5-turbo"
      system_message: "You are a market research analyst. Analyze market conditions and user needs."
      temperature: 0.4
      
  - name: "product_manager" 
    id: "pm-001"
    type: "assistant"
    config:
      model: "gpt-3.5-turbo"
      system_message: "You are a product manager. Define requirements and coordinate development."
      temperature: 0.3
      
  - name: "ui_designer"
    id: "design-001"
    type: "assistant"
    config:
      model: "gpt-3.5-turbo"
      system_message: "You are a UI/UX designer. Create user interface designs and experiences."
      temperature: 0.5
      
  - name: "backend_developer"
    id: "backend-001"
    type: "assistant"
    config:
      model: "gpt-3.5-turbo"
      system_message: "You are a backend developer. Build server-side logic and APIs."
      temperature: 0.3
      
  - name: "frontend_developer"
    id: "frontend-001"
    type: "assistant"
    config:
      model: "gpt-3.5-turbo"
      system_message: "You are a frontend developer. Build user interfaces and client-side logic."
      temperature: 0.3
      
  - name: "qa_engineer"
    id: "qa-001"
    type: "assistant" 
    config:
      model: "gpt-3.5-turbo"
      system_message: "You are a QA engineer. Design test plans and ensure quality."
      temperature: 0.3
      
  - name: "devops_engineer"
    id: "devops-001"
    type: "assistant"
    config:
      model: "gpt-3.5-turbo"
      system_message: "You are a DevOps engineer. Handle deployment and infrastructure."
      temperature: 0.2
      
  - name: "release_manager"
    id: "release-001"
    type: "assistant"
    config:
      model: "gpt-3.5-turbo"
      system_message: "You are a release manager. Coordinate releases and go-to-market."
      temperature: 0.2

# Graph structure
graph:
  nodes:
    - id: "market_analysis"
      agent: "market_researcher"
      description: "Conduct market research and analysis"
      
    - id: "product_planning"
      agent: "product_manager"
      description: "Create product requirements and roadmap"
      
    - id: "ui_design"
      agent: "ui_designer"
      description: "Design user interfaces"
      
    - id: "backend_development"
      agent: "backend_developer"
      description: "Develop backend services"
      
    - id: "frontend_development" 
      agent: "frontend_developer"
      description: "Develop frontend application"
      
    - id: "qa_testing"
      agent: "qa_engineer"
      description: "Test the integrated system"
      
    - id: "deployment_prep"
      agent: "devops_engineer"
      description: "Prepare deployment infrastructure"
      
    - id: "release_decision"
      agent: "release_manager"
      description: "Make release go/no-go decision"

  edges:
    # Market analysis leads to product planning
    - id: "market_to_planning"
      source: "market_analysis"
      target: "product_planning"
      type: "sequential"
      
    # Product planning triggers parallel design and development
    - id: "planning_to_design"
      source: "product_planning"
      target: "ui_design"
      type: "parallel"
      
    - id: "planning_to_backend"
      source: "product_planning"
      target: "backend_development"
      type: "parallel"
      
    # UI design influences frontend development
    - id: "design_to_frontend"
      source: "ui_design"
      target: "frontend_development"
      type: "sequential"
      
    # Backend and frontend sync for QA
    - id: "backend_to_qa"
      source: "backend_development"
      target: "qa_testing"
      type: "synchronize"
      
    - id: "frontend_to_qa"
      source: "frontend_development"
      target: "qa_testing"
      type: "synchronize"
      
    # QA success conditionally triggers deployment prep
    - id: "qa_to_deployment"
      source: "qa_testing"
      target: "deployment_prep"
      type: "conditional"
      condition: "qa_passed"
      
    # Deployment prep leads to release decision
    - id: "deployment_to_release"
      source: "deployment_prep"
      target: "release_decision"
      type: "sequential"

# Parallel execution branches
parallel_branches:
  - id: "development_track"
    nodes: ["ui_design", "backend_development"]
    synchronization_node: "qa_testing"
    
  - id: "integration_track"
    nodes: ["frontend_development", "qa_testing"]
    synchronization_node: "deployment_prep"

# Conditional logic definitions
conditions:
  qa_passed:
    type: "evaluation"
    criteria:
      - "all_tests_pass"
      - "no_critical_bugs"
      - "performance_acceptable"
      
  market_validation:
    type: "approval"
    required_approval: "market_researcher"
    
  ready_for_release:
    type: "consensus"
    required_agents: ["qa_engineer", "devops_engineer", "release_manager"]

# Termination conditions
termination:
  max_rounds: 20
  timeout_seconds: 3600  # 1 hour
  custom_conditions:
    - "release_approved"
    - "critical_blocker_found"
    - "market_conditions_unfavorable"

# Parameters
parameters:
  enable_parallel_development: true
  require_qa_approval: true
  auto_deploy_on_approval: false
  notification_channels: ["slack", "email"]
  rollback_strategy: "blue_green"

# Metadata
metadata:
  category: "product_development"
  complexity: "very_high"
  estimated_duration: "45-90 minutes"
  team_size: 8
  dependencies:
    - "market_data_api"
    - "design_system"
    - "ci_cd_pipeline"
  
tags:
  - "product-development"
  - "graph-workflow"
  - "parallel-development"
  - "conditional-release"
  - "team-coordination"
